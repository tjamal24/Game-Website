const questions = [
        {
          "question": "When did World War II begin?",
          "choices": ["a) 1939", "b) 1941", "c) 1945", "d) 1937"],
          "correctAnswer": "a"
        },
        {
          "question": "Who was the first president of the United States?",
          "choices": ["a) George Washington", "b) Abraham Lincoln", "c) Thomas Jefferson", "d) John Adams"],
          "correctAnswer": "a"
        },
        {
          "question": "Which empire was known for building the Great Wall of China?",
          "choices": ["a) Mongol Empire", "b) Qing Dynasty", "c) Han Dynasty", "d) Roman Empire"],
          "correctAnswer": "c"
        },
        {
          "question": "What year did the Titanic sink?",
          "choices": ["a) 1905", "b) 1912", "c) 1920", "d) 1898"],
          "correctAnswer": "b"
        },
        {
          "question": "Who was the first emperor of Rome?",
          "choices": ["a) Julius Caesar", "b) Augustus", "c) Nero", "d) Tiberius"],
          "correctAnswer": "b"
        },
        {
          "question": "Which war ended with the Treaty of Versailles?",
          "choices": ["a) World War II", "b) World War I", "c) Napoleonic Wars", "d) Korean War"],
          "correctAnswer": "b"
        },
        {
          "question": "Who was the leader of Nazi Germany during World War II?",
          "choices": ["a) Joseph Stalin", "b) Benito Mussolini", "c) Adolf Hitler", "d) Hirohito"],
          "correctAnswer": "c"
        },
        {
          "question": "In what year did the Berlin Wall fall?",
          "choices": ["a) 1989", "b) 1991", "c) 1979", "d) 1993"],
          "correctAnswer": "a"
        },
        {
          "question": "Which country was the site of the Battle of Waterloo?",
          "choices": ["a) Germany", "b) Belgium", "c) France", "d) Spain"],
          "correctAnswer": "b"
        },
        {
          "question": "Who discovered America in 1492?",
          "choices": ["a) Christopher Columbus", "b) Vasco da Gama", "c) Ferdinand Magellan", "d) John Cabot"],
          "correctAnswer": "a"
        },
        {
          "question": "Which civilization built the pyramids of Giza?",
          "choices": ["a) Aztec", "b) Ancient Egypt", "c) Inca", "d) Maya"],
          "correctAnswer": "b"
        },
        {
          "question": "What was the name of the ship that brought the Pilgrims to America in 1620?",
          "choices": ["a) The Mayflower", "b) The Santa Maria", "c) The Nina", "d) The Endeavour"],
          "correctAnswer": "a"
        },
        {
          "question": "Who was the first woman to fly solo across the Atlantic Ocean?",
          "choices": ["a) Amelia Earhart", "b) Jacqueline Cochran", "c) Bessie Coleman", "d) Sally Ride"],
          "correctAnswer": "a"
        },
        {
          "question": "What was the name of the first artificial satellite launched into space?",
          "choices": ["a) Sputnik 1", "b) Apollo 11", "c) Hubble Space Telescope", "d) Voyager 1"],
          "correctAnswer": "a"
        },
        {
          "question": "Who was the main author of the Declaration of Independence?",
          "choices": ["a) George Washington", "b) Benjamin Franklin", "c) Thomas Jefferson", "d) John Adams"],
          "correctAnswer": "c"
        },
        {
          "question": "Which war was fought between the North and South in the United States?",
          "choices": ["a) World War I", "b) American Revolution", "c) Civil War", "d) Spanish-American War"],
          "correctAnswer": "c"
        },
        {
          "question": "Which country was ruled by King Louis XVI during the French Revolution?",
          "choices": ["a) France", "b) Spain", "c) Italy", "d) Germany"],
          "correctAnswer": "a"
        },
        {
          "question": "What year did the United States land the first man on the Moon?",
          "choices": ["a) 1969", "b) 1959", "c) 1975", "d) 1965"],
          "correctAnswer": "a"
        },
        {
          "question": "Who was the famous leader of the Mongol Empire?",
          "choices": ["a) Genghis Khan", "b) Kublai Khan", "c) Alexander the Great", "d) Attila the Hun"],
          "correctAnswer": "a"
        },
        {
          "question": "What was the name of the ship that famously fought in the Battle of Trafalgar?",
          "choices": ["a) HMS Victory", "b) The Endeavour", "c) The Bismarck", "d) The Queen Mary"],
          "correctAnswer": "a"
        },
        {
          "question": "In which year did the United States gain independence from Britain?",
          "choices": ["a) 1776", "b) 1783", "c) 1790", "d) 1800"],
          "correctAnswer": "a"
        },
        {
          "question": "Which event sparked the beginning of World War I?",
          "choices": ["a) The assassination of Archduke Franz Ferdinand", "b) The bombing of Pearl Harbor", "c) The invasion of Poland", "d) The attack on the Lusitania"],
          "correctAnswer": "a"
        },
        {
          "question": "Who was the leader of the Soviet Union during the Cuban Missile Crisis?",
          "choices": ["a) Joseph Stalin", "b) Nikita Khrushchev", "c) Leon Trotsky", "d) Mikhail Gorbachev"],
          "correctAnswer": "b"
        },
        {
          "question": "Which country was the first to grant women the right to vote?",
          "choices": ["a) United States", "b) New Zealand", "c) France", "d) United Kingdom"],
          "correctAnswer": "b"
        },
        {
          "question": "Who was the famous British prime minister during World War II?",
          "choices": ["a) Winston Churchill", "b) Neville Chamberlain", "c) Clement Attlee", "d) Harold Wilson"],
          "correctAnswer": "a"
        },
        {
          "question": "Which empire was responsible for the construction of the Colosseum?",
          "choices": ["a) Roman Empire", "b) Byzantine Empire", "c) Ottoman Empire", "d) Persian Empire"],
          "correctAnswer": "a"
        },
        {
          "question": "Who was the leader of the American Civil Rights Movement in the 1960s?",
          "choices": ["a) Malcolm X", "b) Martin Luther King Jr.", "c) Rosa Parks", "d) Nelson Mandela"],
          "correctAnswer": "b"
        },
        {
          "question": "What ancient civilization is known for its extensive road system and sunken gardens?",
          "choices": ["a) Incas", "b) Aztecs", "c) Romans", "d) Egyptians"],
          "correctAnswer": "a"
        },
        {
          "question": "Who was the first woman to become Prime Minister of the United Kingdom?",
          "choices": ["a) Margaret Thatcher", "b) Theresa May", "c) Ellen Wilkinson", "d) Emmeline Pankhurst"],
          "correctAnswer": "a"
        },
        {
          "question": "In which year did the Soviet Union dissolve?",
          "choices": ["a) 1991", "b) 1989", "c) 1975", "d) 2000"],
          "correctAnswer": "a"
        },
        {
          "question": "Which event triggered the start of World War II?",
          "choices": ["a) Germany's invasion of Poland", "b) Japan's invasion of China", "c) The attack on Pearl Harbor", "d) The signing of the Munich Agreement"],
          "correctAnswer": "a"
        },
        {
          "question": "Who was the famous nurse during the Crimean War?",
          "choices": ["a) Clara Barton", "b) Florence Nightingale", "c) Mary Seacole", "d) Edith Cavell"],
          "correctAnswer": "b"
        },
        {
          "question": "What was the primary goal of the Lewis and Clark Expedition?",
          "choices": ["a) To find a route to the Pacific Ocean", "b) To establish trade routes with Native Americans", "c) To map out the western United States", "d) To conquer new lands for the United States"],
          "correctAnswer": "a"
        },
        {
          "question": "Which city was the capital of the Aztec Empire?",
          "choices": ["a) Teotihuacan", "b) Tenochtitlan", "c) Machu Picchu", "d) Cuzco"],
          "correctAnswer": "b"
        },
        {
          "question": "What was the primary purpose of the Marshall Plan?",
          "choices": ["a) To rebuild Europe after World War II", "b) To support the Soviet Union", "c) To prevent the spread of communism in Asia", "d) To create the United Nations"],
          "correctAnswer": "a"
        },
        {
          "question": "Which U.S. president was assassinated in 1865?",
          "choices": ["a) Abraham Lincoln", "b) John F. Kennedy", "c) James A. Garfield", "d) William McKinley"],
          "correctAnswer": "a"
        },
        {
          "question": "What was the name of the first permanent English colony in the Americas?",
          "choices": ["a) Plymouth", "b) Roanoke", "c) Jamestown", "d) New Amsterdam"],
          "correctAnswer": "c"
        },
        {
          "question": "In what year did the French Revolution begin?",
          "choices": ["a) 1789", "b) 1799", "c) 1776", "d) 1804"],
          "correctAnswer": "a"
        },
        {
          "question": "Which country was led by Kim Jong-un?",
          "choices": ["a) North Korea", "b) South Korea", "c) China", "d) Japan"],
          "correctAnswer": "a"
        },
        {
          "question": "What year did the Battle of Hastings take place?",
          "choices": ["a) 1066", "b) 1099", "c) 1215", "d) 1300"],
          "correctAnswer": "a"
        },
        {
          "question": "Who was the famous explorer who first circumnavigated the globe?",
          "choices": ["a) Christopher Columbus", "b) Ferdinand Magellan", "c) Marco Polo", "d) Vasco da Gama"],
          "correctAnswer": "b"
        },
        {
          "question": "Which civilization is known for its use of hieroglyphics?",
          "choices": ["a) Ancient Egypt", "b) Ancient Greece", "c) Ancient Rome", "d) Mesopotamia"],
          "correctAnswer": "a"
        },
        {
          "question": "What was the main cause of the American Revolution?",
          "choices": ["a) Taxation without representation", "b) The assassination of King George", "c) The expansion of slavery", "d) The demand for independence from France"],
          "correctAnswer": "a"
        },
        {
          "question": "What was the main event of the 1960s Civil Rights Movement?",
          "choices": ["a) The March on Washington", "b) The assassination of Martin Luther King Jr.", "c) The signing of the Civil Rights Act", "d) The Birmingham Campaign"],
          "correctAnswer": "a"
        },
        {
          "question": "Which country was formerly known as Persia?",
          "choices": ["a) Iraq", "b) Iran", "c) Egypt", "d) Afghanistan"],
          "correctAnswer": "b"
        },
        {
          "question": "Who was the leader of the Soviet Union during World War II?",
          "choices": ["a) Joseph Stalin", "b) Nikita Khrushchev", "c) Leon Trotsky", "d) Mikhail Gorbachev"],
          "correctAnswer": "a"
        },
        {
            "question": "Who was the famous leader of the Indian independence movement?",
            "choices": ["a) Jawaharlal Nehru", "b) Mahatma Gandhi", "c) Subhas Chandra Bose", "d) Sardar Patel"],
            "correctAnswer": "b"
          },
          {
            "question": "Which country was the site of the first atomic bomb attack?",
            "choices": ["a) Japan", "b) Germany", "c) United States", "d) Soviet Union"],
            "correctAnswer": "a"
          },
          {
            "question": "What was the name of the ship that famously sank after hitting an iceberg in 1912?",
            "choices": ["a) Lusitania", "b) Titanic", "c) Britannic", "d) Carpathia"],
            "correctAnswer": "b"
          },
          {
            "question": "Which battle was the turning point of the American Civil War?",
            "choices": ["a) Battle of Gettysburg", "b) Battle of Antietam", "c) Battle of Fort Sumter", "d) Battle of Appomattox Court House"],
            "correctAnswer": "a"
          }
      ]
      
      let currentQuestion = 0;
      let score = 0;
      let timeLeft = 1800; // 30 minutes in seconds
      let timerInterval;
      
      const questionElement = document.getElementById('question');
      const choicesElement = document.getElementById('choices');
      const answerInput = document.getElementById('answerInput');
      const submitBtn = document.getElementById('submitBtn');
      const timerElement = document.getElementById('time');
      const scoreElement = document.getElementById('score-value');
      const feedbackElement = document.getElementById('feedback');
      const startBtn = document.getElementById('startBtn');
      const endQuizBtn = document.getElementById('endQuizBtn');
      const quizContainer = document.getElementById('quiz-container');
      
      function startQuiz() {
        quizContainer.style.display = 'block'; 
        startBtn.style.display = 'none'; 
        endQuizBtn.style.display = 'block'; // Show the "End Quiz" button
        showQuestion();
        startTimer();
      }
      
      function showQuestion() {
        if (currentQuestion >= questions.length) { 
          // Prevent skipping questions
          endQuiz(); 
          return; 
        }
      
        const currentQuestionData = questions[currentQuestion];
        questionElement.textContent = `Question ${currentQuestion + 1}: ${currentQuestionData.question}`; 
      
        choicesElement.innerHTML = ''; 
        for (let i = 0; i < currentQuestionData.choices.length; i++) {
          const choice = document.createElement('li');
          choice.textContent = currentQuestionData.choices[i];
          choicesElement.appendChild(choice); 
        }
      
        answerInput.value = ''; 
        feedbackElement.textContent = ''; 
      }
      
      function checkAnswer() {
        const userAnswer = answerInput.value.toLowerCase(); 
      
        if (userAnswer === '') { 
          feedbackElement.textContent = "Please enter an answer.";
          return; 
        }
      
        const correctAnswer = questions[currentQuestion].correctAnswer;
      
        if (userAnswer === correctAnswer) {
          feedbackElement.textContent = "Correct!";
          score++;
          scoreElement.textContent = score;
        } else {
          feedbackElement.textContent = "Incorrect. The correct answer is: " + correctAnswer;
        }
      
        currentQuestion++;
        if (currentQuestion < questions.length) {
          showQuestion(); 
        } else {
          endQuiz();
        }
      }
      
      function startTimer() {
        timeLeft = 1800; // 30 minutes in seconds
        timerElement.textContent = formatTime(timeLeft); 
        timerInterval = setInterval(() => {
          timeLeft--;
          timerElement.textContent = formatTime(timeLeft);
      
          if (timeLeft <= 0) {
            clearInterval(timerInterval);
            endQuiz(); 
          }
      
          // 10-minute warning
          if (timeLeft === 600) { 
            alert("10 minutes remaining in the quiz!");
          }
      
          // 5-minute warning
          if (timeLeft === 300) { 
            alert("5 minutes remaining in the quiz!");
          }
      
        }, 1000);
      }
      
      function endQuiz() {
        clearInterval(timerInterval);
        questionElement.textContent = "Quiz Completed!";
        answerInput.style.display = 'none';
        submitBtn.style.display = 'none';
        endQuizBtn.style.display = 'none'; 
      
        const resultsContainer = document.createElement('div');
        resultsContainer.innerHTML = `
          <h2>Your Score: ${score} out of ${questions.length}</h2>
          <p>You answered ${score} questions correctly.</p>
          <button id="restartBtn">Restart Quiz</button>
        `;
        document.getElementById('quiz-container').appendChild(resultsContainer);
      
        const restartBtn = document.getElementById('restartBtn');
        restartBtn.addEventListener('click', () => {
          currentQuestion = 0;
          score = 0;
          scoreElement.textContent = 0;
          resultsContainer.remove(); 
          answerInput.style.display = 'block';
          submitBtn.style.display = 'block';
          quizContainer.style.display = 'none'; 
          startBtn.style.display = 'block'; 
          startQuiz(); 
        });
      }
      
      function formatTime(seconds) {
        const minutes = Math.floor(seconds / 60);
        const remainingSeconds = seconds % 60;
        return `${minutes}:${remainingSeconds < 10 ? '0' : ''}${remainingSeconds}`;
      }
      
      submitBtn.addEventListener('click', checkAnswer); 
      startBtn.addEventListener('click', startQuiz); 
      endQuizBtn.addEventListener('click', endQuiz); 
      
      quizContainer.style.display = 'none'; 